{"ast":null,"code":"var _jsxFileName = \"/Users/rushikeshkhadsare/Downloads/upstac-ui/src/auth/Login.js\";\nimport { Button, Checkbox, Container, CssBaseline, FormControlLabel, Grid, Link, makeStyles, TextField, Typography } from \"../component\";\nimport { useHistory } from \"react-router-dom\";\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { environment } from \"../environment\";\nimport { clearAuthToken, doLogin } from \"./authDispatcher\";\nimport { LOGIN } from \"./authStore\";\nimport { appNotification } from \"../shared/notification/app-notification\";\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(3),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nfunction Login(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [userName, set_userName] = useState(\"\");\n  const [password, set_password] = useState(\"\");\n\n  async function login(event) {\n    event.preventDefault();\n    console.log(\"userName\", userName);\n    const payload = {\n      userName,\n      password\n    };\n    const loginUrl = environment.baseUrl + \"/auth/login\";\n    doLogin(payload).subscribe(response => {\n      const currentUser = response.user;\n      const token = response.token;\n      dispatch({\n        type: LOGIN,\n        \"payload\": response\n      });\n      history.push(\"/profile\");\n    }, error => {\n      appNotification.showError(error);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Login in\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    onSubmit: login,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"userName\",\n    label: \"User Name\",\n    name: \"userName\",\n    autoComplete: \"userName\",\n    autoFocus: true,\n    value: userName,\n    onInput: e => {\n      set_userName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    value: password,\n    onInput: e => set_password(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"#\",\n    to: \"/register\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, \"Don't have an account? Sign Up\"))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/rushikeshkhadsare/Downloads/upstac-ui/src/auth/Login.js"],"names":["Button","Checkbox","Container","CssBaseline","FormControlLabel","Grid","Link","makeStyles","TextField","Typography","useHistory","React","useState","useDispatch","environment","clearAuthToken","doLogin","LOGIN","appNotification","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Login","props","classes","history","dispatch","userName","set_userName","password","set_password","login","event","preventDefault","console","log","payload","loginUrl","baseUrl","subscribe","response","currentUser","user","token","type","push","error","showError","e","target","value"],"mappings":"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","sourcesContent":["import {\n    Button,\n    Checkbox,\n    Container,\n    CssBaseline,\n    FormControlLabel,\n    Grid,\n    Link,\n    makeStyles,\n    TextField,\n    Typography\n} from \"../component\"\nimport {useHistory} from \"react-router-dom\";\n\nimport React, {useState} from 'react';\nimport {useDispatch} from 'react-redux';\n\n\nimport {environment} from \"../environment\";\nimport {clearAuthToken, doLogin} from \"./authDispatcher\";\nimport {LOGIN} from \"./authStore\";\nimport {appNotification} from \"../shared/notification/app-notification\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(3),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Login(props) {\n\n    const classes = useStyles();\n    const history = useHistory();\n\n    const dispatch = useDispatch()\n\n\n    const [userName, set_userName] = useState(\"\")\n    const [password, set_password] = useState(\"\")\n\n\n\n\n\n\n\n    async function login(event) {\n        event.preventDefault();\n        console.log(\"userName\",userName)\n        const payload = {\n            userName,\n            password\n        }\n\n\n        const loginUrl = environment.baseUrl +\"/auth/login\"\n\n\n        doLogin( payload)\n            .subscribe( (response) =>{\n\n                const currentUser = response.user\n                const token = response.token\n\n\n                dispatch({type: LOGIN,\"payload\":response});\n\n\n\n                    history.push(\"/profile\")\n\n\n            },(error => {\n                appNotification.showError(error )\n\n\n            }))\n    }\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div className={classes.paper}>\n\n                <Typography component=\"h1\" variant=\"h5\">\n                    Login in\n          </Typography>\n                <form className={classes.form} onSubmit={login} noValidate>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"userName\"\n                        label=\"User Name\"\n                        name=\"userName\"\n                        autoComplete=\"userName\"\n                        autoFocus\n                        value={userName}\n                        onInput={e => {\n                            set_userName(e.target.value)\n                        }}\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        value={password}\n                        onInput={e => set_password(e.target.value)}\n                    />\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        className={classes.submit}\n                    >\n                        Sign In\n            </Button>\n                    <Grid container>\n                        <Grid item xs>\n                            {/* <Link href=\"#\" variant=\"body2\">\n                                Forgot password?\n                                /upload-document/210\n                </Link> */}\n                        </Grid>\n                        <Grid item>\n                            <Link href=\"#\" to=\"/register\" variant=\"body2\">\n                                {\"Don't have an account? Sign Up\"}\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n\n        </Container>\n\n    )\n}\n\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}