{"ast":null,"code":"var _jsxFileName = \"/Users/rushikeshkhadsare/Downloads/upstac-ui/src/authority/ViewAllRequests.js\";\nimport { Container, Grid, React, useEffect, useState } from \"../component\";\nimport { doGetAllTestRequestsWithThreshold } from \"./shared/authorityDispatcher\";\nimport { useGlobalStyles } from \"../styles/GlobalStyles\";\nimport { getRequestHistoryOptions } from \"./shared/view-all-request-options\";\nimport MUIDataTable from \"mui-datatables\";\nimport { errorHandler } from \"../shared/common-helpers\";\n\nfunction ViewAllRequests() {\n  const classes = useGlobalStyles();\n  const [data, setData] = useState([]);\n  const [requests, setRequests] = useState([]);\n  let columns = [{\n    name: \"Test Request ID\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"Name\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"Age\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"Pincode\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"Status\",\n    options: {\n      filter: true\n    }\n  }];\n  const options = getRequestHistoryOptions(requests);\n\n  function reloadTests() {\n    doGetAllTestRequestsWithThreshold().subscribe(allTestRequests => {\n      setRequests(allTestRequests);\n      const buffer = allTestRequests.map(item => {\n        const status = item.pinCodeInfo.zoneType;\n        return [item.requestId, item.name, item.age, item.pinCode, status];\n      });\n      const results = [];\n      results.push(buffer);\n      setData(buffer);\n      setRequests(allTestRequests);\n    }, errorHandler);\n  }\n\n  useEffect(() => {\n    reloadTests();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"md\",\n    component: \"main\",\n    className: classes.heroContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Request History\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MUIDataTable, {\n    title: \"Request History\",\n    data: data,\n    columns: columns,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default ViewAllRequests;","map":{"version":3,"sources":["/Users/rushikeshkhadsare/Downloads/upstac-ui/src/authority/ViewAllRequests.js"],"names":["Container","Grid","React","useEffect","useState","doGetAllTestRequestsWithThreshold","useGlobalStyles","getRequestHistoryOptions","MUIDataTable","errorHandler","ViewAllRequests","classes","data","setData","requests","setRequests","columns","name","options","filter","reloadTests","subscribe","allTestRequests","buffer","map","item","status","pinCodeInfo","zoneType","requestId","age","pinCode","results","push","heroContent"],"mappings":"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","sourcesContent":["import {Container, Grid, React, useEffect, useState,} from \"../component\"\nimport {doGetAllTestRequestsWithThreshold} from \"./shared/authorityDispatcher\";\nimport {useGlobalStyles} from \"../styles/GlobalStyles\";\nimport {getRequestHistoryOptions} from \"./shared/view-all-request-options\";\nimport MUIDataTable from \"mui-datatables\";\nimport {errorHandler} from \"../shared/common-helpers\";\n\n\nfunction ViewAllRequests() {\n\n\n    const classes = useGlobalStyles();\n\n    const [data, setData] = useState([]);\n\n    const [requests, setRequests] = useState([]);\n\n\n\n    let columns = [\n        {\n            name: \"Test Request ID\",\n            options: {\n                filter: true,\n            }\n        },\n        {\n            name: \"Name\",\n            options: {\n                filter: true,\n            }\n        },\n        {\n\n            name: \"Age\",\n            options: {\n                filter: true,\n            }\n        },\n        {\n\n            name: \"Pincode\",\n            options: {\n                filter: true,\n            }\n        },\n        {\n\n            name: \"Status\",\n            options: {\n                filter: true,\n            }\n        }\n\n    ];\n\n\n    const options = getRequestHistoryOptions(requests)\n\n\n\n\n\n\n    function reloadTests() {\n\n\n        doGetAllTestRequestsWithThreshold()\n            .subscribe((allTestRequests) => {\n\n                setRequests(allTestRequests)\n                const buffer = allTestRequests.map(item=>{\n\n                    const status= item.pinCodeInfo.zoneType\n                    return [item.requestId,item.name,item.age,item.pinCode,status]\n                })\n\n                const results = []\n                results.push(buffer)\n                setData(buffer)\n\n\n\n                    setRequests(allTestRequests)\n\n            }, errorHandler)\n    }\n\n\n    useEffect(() => {\n\n\n        reloadTests();\n\n\n\n\n\n    }, [])\n\n\n    return (\n        <React.Fragment>\n            <Container maxWidth=\"md\" component=\"main\" className={classes.heroContent}>\n                <h1>\n                    Request History\n                </h1>\n                <hr />\n            </Container>\n            <Container component=\"main\" maxWidth=\"md\">\n                <Grid container>\n                    <Grid item md={12}>\n\n                        <MUIDataTable title={\"Request History\"} data={data} columns={columns} options={options} />\n\n                    </Grid>\n                </Grid>\n            </Container>\n        </React.Fragment>\n\n    )\n\n\n\n}\n\nexport default ViewAllRequests\n"]},"metadata":{},"sourceType":"module"}